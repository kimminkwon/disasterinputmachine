<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
      layout:decorate="~{layout/layout1}">

<div layout:fragment="content">
    <div class="panel panel-warning">
        <div class="panel-heading">수정 페이지(보류 테이블)</div>
    </div>
    <div class="panel-body">

        <form id = 'f1'>

            <div class="form-group">
                <label>데이터번호</label>
                <input class="form-control" name="rno" th:value="${dto.rno}" readonly="readonly"/>
            </div>

            <div class="form-group">
                <label>분류번호</label>
                <input class="form-control" name="clasNo" th:value="${dto.clasNo}" />
            </div>

            <div class="form-group" style="width: 49%; float: left;" >
                <label>색인어(한글)</label>
                <input class="form-control" name="indexKR" th:value="${dto.indexKR}"  />
            </div>

            <div class="form-group" style="width: 49%; float: right;">
                <label>색인어(한자)</label>
                <input class="form-control" name="indexCN" th:value="${dto.indexCN}" />
            </div> <div style="clear:both;"></div>

            <div class="form-group" style="width: 49%; float: left;">
                <label>대분류(한글)</label>
                <input class="form-control" name="lclasKR" th:value="${dto.lclasKR}" readonly="readonly"/>
            </div>

            <div class="form-group" style="width: 49%; float: right;">
                <label>대분류(한자)</label>
                <input class="form-control" name="lclasCN" th:value="${dto.lclasCN}" readonly="readonly"/>
            </div> <div style="clear:both;"></div>

            <div class="form-group" style="width: 49%; float: left;">
                <label>중분류(한글)</label>
                <input class="form-control" name="mclasKR" th:value="${dto.mclasKR}" readonly="readonly"/>
            </div>

            <div class="form-group" style="width: 49%; float: right;">
                <label>중분류(한자)</label>
                <input class="form-control" name="mclasCN" th:value="${dto.mclasCN}" readonly="readonly"/>
            </div> <div style="clear:both;"></div>

            <div class="form-group" style="width: 49%; float: left;">
                <label>소분류(한글)</label>
                <input class="form-control" name="sclasKR" th:value="${dto.sclasKR}" readonly="readonly" />
            </div>

            <div class="form-group" style="width: 49%; float: right;">
                <label>소분류(한자)</label>
                <input class="form-control" name="sclasCN" th:value="${dto.sclasCN}" readonly="readonly"/>
            </div> <div style="clear:both;"></div>

            <div class="form-group">
                <label>기사 개요</label>
                <textarea class="form-control" rows="3" name="articlSumry" th:text="${dto.articlSumry}"></textarea>
            </div>

            <div class="form-group">
                <label>기사 원문</label>
                <textarea class="form-control" rows="10" name="articlOrginl" th:text="${dto.articlOrginl}" ></textarea>
            </div>

            <div class="form-group">
                <label>기사 문헌 분류</label>
                <input class="form-control" name="ltrtreClas" th:value="${dto.ltrtreClas}" />
            </div>

            <div class="form-group">
                <label>기사 문헌 명칭</label>
                <input class="form-control" name="ltrtreNM" th:value="${dto.ltrtreNM}" />
            </div>

            <div class="form-group" style="width: 49%; float: left;">
                <label>출전(한글)</label>
                <input class="form-control" name="sourceKR" th:value="${dto.sourceKR}"  />
            </div>

            <div class="form-group" style="width: 49%; float: right;">
                <label>출전(한자)</label>
                <input class="form-control" name="sourceCN" th:value="${dto.sourceCN}" />
            </div> <div style="clear:both;"></div>

            <div class="form-group" style="width: 20%; float: left; margin-right: 5%">
                <label>연도(묘호년)</label>
                <input class="form-control" name="yearNameOfTomb" th:value="${dto.yearNameOfTomb}" />
            </div>

            <div class="form-group" style="width: 20%; float: left; margin-right: 6%">
                <label>연도(연호)</label>
                <input class="form-control" name="yearAge" th:value="${dto.yearAge}" />
            </div>

            <div class="form-group" style="width: 20%; float: left; margin-right: 5%">
                <label>연도(서기)</label>
                <input class="form-control" name="yearAD" th:value="${dto.yearAD}" />
            </div>

            <div class="form-group" style="width: 20%; float: left;">
                <label>월</label>
                <input class="form-control" name="month" th:value="${dto.month}" />
            </div> <div style="clear:both;"></div>

            <div class="form-group" style="width: 49%; float: left;">
                <label>왕조(한국)</label>
                <select class="form-control" name="dynastyKR">
                    <option></option>
                    <option value='신라(新羅)' th:selected="${dto.dynastyKR} == '신라(新羅)'">신라(新羅)</option>
                    <option value='고구려(高句麗)' th:selected="${dto.dynastyKR} == '고구려(高句麗)'">고구려(高句麗)</option>
                    <option value='백제(百濟)' th:selected="${dto.dynastyKR} == '백제(百濟)'">백제(百濟)</option>
                    <option value='발해(渤海)' th:selected="${dto.dynastyKR} == '발해(渤海)'">발해(渤海)</option>
                    <option value='후백제(後百濟)' th:selected="${dto.dynastyKR} == '후백제(後百濟)'">후백제(後百濟)</option>
                    <option value='후고구려(後高句麗)' th:selected="${dto.dynastyKR} == '후고구려(後高句麗)'">후고구려(後高句麗)</option>
                    <option value='고려(高麗)' th:selected="${dto.dynastyKR} == '고려(高麗)'">고려(高麗)</option>
                    <option value='조선(朝鮮)' th:selected="${dto.dynastyKR} == '조선(朝鮮)'">조선(朝鮮)</option>
                </select>
            </div>

            <div class="form-group" style="width: 49%; float: right;">
                <label>왕조(중국)</label>
                <select class="form-control" name="dynastyCN">
                    <option></option>
                    <option value='당(唐)' th:selected="${dto.dynastyCN} == '당(唐)'">당(唐)</option>
                    <option value='후량(後梁)' th:selected="${dto.dynastyCN} == '후량(後梁)'">후량(後梁)</option>
                    <option value='후당(後唐)' th:selected="${dto.dynastyCN} == '후당(後唐)'">후당(後唐)</option>
                    <option value='후진(後晉)' th:selected="${dto.dynastyCN} == '후진(後晉)'">후진(後晉)</option>
                    <option value='후한(後漢)' th:selected="${dto.dynastyCN} == '후한(後漢)'">후한(後漢)</option>
                    <option value='후주(後周)' th:selected="${dto.dynastyCN} == '후주(後周)'">후주(後周)</option>
                    <option value='송(宋)' th:selected="${dto.dynastyCN} == '송(宋)'">송(宋)</option>
                    <option value='거란(요), 契丹(遼)' th:selected="${dto.dynastyCN} == '거란(요), 契丹(遼)'">거란(요), 契丹(遼)</option>
                    <option value='서하(西夏)' th:selected="${dto.dynastyCN} == '서하(西夏)'">서하(西夏)</option>
                    <option value='금(金)' th:selected="${dto.dynastyCN} == '금(金)'">금(金)</option>
                    <option value='원(元)' th:selected="${dto.dynastyCN} == '원(元)'">원(元)</option>
                    <option value='명(明)' th:selected="${dto.dynastyCN} == '명(明)'">명(明)</option>
                    <option value='청(淸)' th:selected="${dto.dynastyCN} == '청(淸)'">청(淸)</option>
                </select>
            </div> <div style="clear:both;"></div>

            <div class="form-group" style="width: 49%; float: left;">
                <label>지역 1(한글)</label>
                <input class="form-control" name="area1KR" th:value="${dto.area1KR}" />
            </div>

            <div class="form-group" style="width: 49%; float: right;">
                <label>지역 1(한자)</label>
                <input class="form-control" name="area1CN" th:value="${dto.area1CN}" />
            </div> <div style="clear:both;"></div>

            <div class="form-group" style="width: 49%; float: left;">
                <label>지역 2(한글)</label>
                <input class="form-control" name="area2KR" th:value="${dto.area2KR}" />
            </div>

            <div class="form-group" style="width: 49%; float: right;">
                <label>지역 2(한자)</label>
                <input class="form-control" name="area2CN" th:value="${dto.area2CN}" />
            </div> <div style="clear:both;"></div>

            <div class="form-group" style="width: 49%; float: left;">
                <label>지역 3(한글)</label>
                <input class="form-control" name="area3KR" th:value="${dto.area3KR}" />
            </div>

            <div class="form-group" style="width: 49%; float: right;">
                <label>지역 3(한자)</label>
                <input class="form-control" name="area3CN" th:value="${dto.area3CN}" />
            </div> <div style="clear:both;"></div>

            <div class="form-group" style="width: 49%; float: left;">
                <label>최초 생성 계정</label>
                <input class="form-control" name="createBy" th:value="${dto.createBy}" readonly="readonly" />
            </div>

            <div class="form-group" style="width: 49%; float: right;">
                <label>마지막 수정 계정</label>
                <input class="form-control" name="modifyBy" th:value="${#authentication.principal.member.uid}" readonly="readonly" />
            </div> <div style="clear:both;"></div>

            <div class="form-group">
                <label>참고 색인어</label>
                <input class="form-control" name="referIndex" th:value="${dto.referIndexStr}" />
            </div>

            <div class="form-group">
                <label>비고</label>
                <input class="form-control" name="remark" th:value="${dto.remark}"  />
            </div>


            <!-- Paging 유지를 위한 히든 데이터 -->
            <input type="hidden" name="page" th:value="${pageVO.page}">
            <input type="hidden" name="size" th:value="${pageVO.size}">
            <input type="hidden" name="type" th:value="${pageVO.type}">
            <input type="hidden" name="keyword" th:value="${pageVO.keyword}">
            <!-- Security를 위한 히든 데이터 -->
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

        </form>

        <div class="form-group">
            <label>수정시간</label>
            <input class="form-control" name="regDate" th:value="${#dates.format(dto.modifyTime, 'yyyy-MM-dd')}" readonly="readonly" />
        </div>

        <div class="pull-left" style="float: left;">

            <a href="#" class="btn btn-primary tomaintenancebtn" style="float: left; margin-right: 10px;">유지 테이블로 이동</a>
            <a href="#" class="btn btn-danger todeletebtn" style="float: right;">삭제 테이블로 이동</a>

        </div>

        <div class="pull-right" style="float: right;">

            <a href="#" class="btn btn-warning modbtn">수정</a>
            <a href="#" class="btn btn-danger delbtn" sec:authorize="hasRole('ROLE_ADMIN')">삭제</a>

            <a th:href="@{ list(page=${pageVO.page}, size=${pageVO.size}, type=${pageVO.type}, keyword=${pageVO.keyword}, order=${pageVO.order}, rno=${dto.rno}) }"
               class="btn btn-primary">취소</a>

        </div> <div style="clear:both;"></div>


    </div>
</div>
<!-- end fragment -->

<th:block layout:fragment="script">
    <script th:inline="javascript">

        $(document).ready(function () {

            var formObj = $("#f1");

            $(".tomaintenancebtn").click(function () {
                formObj.attr("action", "tomaintenance");
                formObj.attr("method", "post");
                formObj.submit();
            });

            $(".todeletebtn").click(function () {
                formObj.attr("action", "todelete");
                formObj.attr("method", "post");
                formObj.submit();
            });

            $(".delbtn").click(function () {
                formObj.attr("action", "delete");
                formObj.attr("method", "post");
                formObj.submit();
            });

            $(".modbtn").click(function () {
                formObj.attr("action", "modify");
                formObj.attr("method", "post");
                formObj.submit();
            });

        });
    </script>
</th:block>